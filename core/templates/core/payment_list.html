
{% extends "base.html" %}

{% block content %}
<div class="content-header">
	<div class="container-fluid">
		<div class="row mb-2 align-items-center">
			<div class="col-sm-6 d-flex align-items-center">
				<i class="fas fa-money-check-alt fa-2x text-success mr-2"></i>
				<div>
					<h1 class="m-0">Payments <small class="text-muted" style="font-size:1rem;">List</small></h1>
				</div>
			</div>
			<div class="col-sm-6 text-right">
				<a href="{% url 'vendor_list' %}" class="btn btn-warning btn-sm">
					<i class="fas fa-plus"></i><span class="d-none d-sm-inline"> Add Payment</span>
				</a>
			</div>
		</div>
	</div>
</div>
<section class="content">
	<div class="container-fluid">
		<div class="card">
			<div class="card-body">
				<table id="paymentsTable" class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Date</th>
							<th>Vendor</th>
							<th>Amount</th>
							<th>Method</th>
							<th>Memo</th>
						</tr>
					</thead>
					<tbody>
						{% for payment in payments %}
						<tr>
							<td>{{ payment.date|date:'d-M-y' }}</td>
							<td>{{ payment.vendor.name }}</td>
							<td>{{ payment.amount }}</td>
							<td>{{ payment.method }}</td>
							<td>
								{% if payment.memo %}
									<a href="{{ payment.memo.url }}" target="_blank" class="btn btn-xs btn-info" title="View Memo"><i class="fas fa-file"></i></a>
								{% else %}
									<span class="text-muted">-</span>
								{% endif %}
							</td>
						</tr>
						{% empty %}
						<tr><td colspan="5" class="text-center text-muted">No payments found.</td></tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</section>
<script>
$(function() {
	$('#paymentsTable').DataTable({
		responsive: true,
		pageLength: 25,
		order: [[0, 'desc']]
	});
});
</script>
{% endblock %}
